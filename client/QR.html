<!-- @format -->

<script>
  import {onMount} from 'svelte'
  import kjua from 'kjua'

  export var value
  export var color = '#333'
  export var size = 300

  let id = parseInt(Math.random() * 100000)

  onMount(() => {
    let el = kjua({
      rounded: 100,
      text: value.toUpperCase(),
      fill: color,
      back: 'transparent',
      size
    })

    document.getElementById('c-' + id).appendChild(el)
  })
</script>

<style>
  a {
    display: block;
  }
  textarea {
    display: block;
    width: 100%;
    max-width: 100%;
    min-width: 100%;
    overflow: hidden;
    height: 4.5em;
  }
</style>

<div>
  <a href="lightning:{value}" id="c-{id}"></a>
  <textarea readonly>{value}</textarea>
</div>
