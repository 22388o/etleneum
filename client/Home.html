<!-- @format -->

<script>
  import {onMount, onDestroy} from 'svelte'
  import {blur} from 'svelte/transition'

  import QR from './QR.html'
  import account from './accountStore'

  let names = [
    'Etleneum',
    'ڪيانا',
    'Etleniko',
    '菠蘿蜜',
    'Etẽlenum',
    '素晴らしい虹',
    'Etljeneo'
  ]
  let name = 'Etleneum'
  let rotation = 0
  let visible = true
  var intv

  onMount(() => {
    intv = setInterval(() => {
      visible = false
      setTimeout(() => {
        name = names[names.indexOf(name) + (1 % (names.length - 1))]
        rotation = rotation + 60
        visible = true
      }, 1)
    }, 4000)
  })
  onDestroy(() => {
    clearInterval(intv)
  })
</script>

<style>
  * {
    text-align: center;
  }
  main {
    padding: 0 100px;
  }
  header img {
    height: 14rem;
  }
  header h1 {
    font-size: 2.4rem;
    font-weight: normal;
  }
</style>

<main>
  <header class="center">
    {#if visible}
    <img
      in:blur="{{amount:10, duration: 450}}"
      out:blur="{{amount: 10, duration: 450}}"
      src="/static/icon.png"
      alt="etleneum logo"
      style="transform: rotate({rotation}deg)"
    />
    <h1
      in:blur="{{amount:10, duration: 450}}"
      out:blur="{{amount: 10, duration: 450}}"
    >
      {name}
    </h1>
    {/if}
  </header>
  <h2>
    Etleneum is a global, open-source platform for the centralized applications.
  </h2>
  <p>
    On Etleneum you can write code that controls digital value, runs exactly as
    programmed, and is accessible anywhere in the world.
  </p>
  <p>
    <a href="#/docs">Read more</a>{#if window.location.host === 'etleneum.com'}
    and start creating some <em>free</em> contracts in the
    <a href="https://test.etleneum.com">test website</a>{/if}.
  </p>

  {#if window.location.host === 'etleneum.com'}
  <p>
    If you need help, have questions or feedback or just want to say hi, go talk
    to us at <a href="https://t.me/etleneum">our Telegram chat</a>.
  </p>
  {:else}
  <p>
    This is a test website. You can create contracts and run calls for free.
    Whenever you see an invoice, just wait and it will be paid automatically
    after some seconds. You can login and have a balance, but withdrawals are
    impossible.
  </p>
  {/if}

  <div class="center">
    <h2>Etleneum in 2 minutes</h2>
    <p>
      Etleneum is not just a pun with Ethereum, it's a real smart contract
      platform. You can build publicly auditable and trusted applications that
      run custom code, can talk to other services and are accessible through an
      API, all using a built-in user account system (optional) and real
      Lightning payments.
    </p>
    <h3>Example</h3>
  </div>
</main>
